# ============================================================
# OAuth Server Environment Configuration Template
# ============================================================
# Copy this file to .env for local development
# For Railway deployment, set these as Railway Variables

# Node.js Environment
NODE_ENV=development
PORT=3000

# HighLevel OAuth Configuration
# Get these from your HighLevel Marketplace app settings
HL_CLIENT_ID=your_highlevel_client_id_here
HL_CLIENT_SECRET=your_highlevel_client_secret_here
REDIRECT_URI=https://api.engageautomations.com/oauth/callback

# Database Configuration
# Railway will provide this automatically, or use your own PostgreSQL
DATABASE_URL=postgresql://username:password@host:port/database

# Security Configuration
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_KEY=base64_encoded_32_byte_key_here

# Service-to-Service Authentication
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
S2S_SHARED_SECRET=base64_encoded_64_byte_secret_here

# Optional: Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Optional: Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Optional: CORS Configuration
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# Optional: SSL/TLS Configuration (for production)
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# Optional: Monitoring and Metrics
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# Optional: Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=2000

# Optional: Token Refresh Configuration
TOKEN_REFRESH_THRESHOLD_MINUTES=5
TOKEN_REFRESH_RETRY_ATTEMPTS=3
TOKEN_REFRESH_RETRY_DELAY=1000

# Optional: Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90

# Optional: Security Headers
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# Development Only - Remove in Production
DEBUG=oauth-server:*
VERBOSE_LOGGING=true