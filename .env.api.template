# ============================================================
# API Server Environment Configuration Template
# ============================================================
# Copy this file to .env for local development
# For Railway deployment, set these as Railway Variables

# Node.js Environment
NODE_ENV=development
PORT=3001

# OAuth Server Integration
# This should point to your deployed OAuth server
OAUTH_BASE_URL=https://your-oauth-app.up.railway.app

# Service-to-Service Authentication
# Must match the S2S_SHARED_SECRET in OAuth server
S2S_SHARED_SECRET=base64_encoded_64_byte_secret_here

# HighLevel API Configuration
DEFAULT_SCOPE=locations/read contacts/read contacts/write opportunities/read opportunities/write calendars/read calendars/write

# Webhook Configuration
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
WEBHOOK_SECRET=hex_encoded_webhook_secret_here

# Optional: Local Database (for business data, not OAuth tokens)
# Only needed if you store additional business data
DATABASE_URL=postgresql://username:password@host:port/api_database

# Optional: Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Optional: Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
STRICT_RATE_LIMIT_MAX_REQUESTS=50

# Optional: CORS Configuration
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# Optional: Request Validation
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000

# Optional: Business Logic Configuration
MAX_CONTACTS_PER_REQUEST=100
MAX_OPPORTUNITIES_PER_REQUEST=100
DEFAULT_PAGINATION_LIMIT=20

# Optional: Webhook Processing
WEBHOOK_TIMEOUT=5000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=1000

# Optional: External Integrations
# Add your own third-party service configurations here
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASS=your_email_password

# Optional: Caching Configuration
REDIS_URL=redis://localhost:6379
CACHE_TTL=300
CACHE_ENABLED=false

# Optional: File Upload Configuration
UPLOAD_MAX_SIZE=5mb
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf
UPLOAD_STORAGE_PATH=/tmp/uploads

# Optional: Monitoring and Metrics
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
PERFORMANCE_MONITORING=true

# Optional: Security Configuration
API_KEY_HEADER=X-API-Key
API_KEY_REQUIRED=false
IP_WHITELIST=
IP_BLACKLIST=

# Optional: Feature Flags
FEATURE_WEBHOOKS_ENABLED=true
FEATURE_BULK_OPERATIONS=true
FEATURE_ADVANCED_SEARCH=true
FEATURE_EXPORT_DATA=true

# Optional: Business Rules
MAX_APPOINTMENT_DURATION_HOURS=8
MIN_APPOINTMENT_DURATION_MINUTES=15
BUSINESS_HOURS_START=09:00
BUSINESS_HOURS_END=17:00
BUSINESS_TIMEZONE=America/New_York

# Optional: Notification Configuration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK
EMAIL_NOTIFICATIONS_ENABLED=false

# Development Only - Remove in Production
DEBUG=api-server:*
VERBOSE_LOGGING=true
MOCK_HIGHLEVEL_API=false